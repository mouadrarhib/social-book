<div class="book-card" [class.shareable]="book.shareable" [class.archived]="book.archived">
  <div class="book-cover">
    <img [src]="bookCover" [alt]="book.title">
    <div class="book-status" *ngIf="book.shareable || book.archived">
      <span *ngIf="book.shareable" class="status-badge status-shareable">
        <i class="fas fa-share-nodes"></i> Shareable
      </span>
      <span *ngIf="book.archived" class="status-badge status-archived">
        <i class="fas fa-archive"></i> Archived
      </span>
    </div>
  </div>
  
  <div class="book-content">
    <div class="book-header">
      <h3 class="book-title">
        <i class="fa-solid fa-book"></i>
        <span>{{book.title}}</span>
      </h3>
      <div class="book-meta">
        <p class="author">
          <i class="fa-solid fa-user-check"></i>
          <span>{{ book.authorName }}</span>
        </p>
        <p class="isbn">
          <i class="fas fa-code"></i>
          <span>{{ book.isbn }}</span>
        </p>
        <p class="owner">
          <i class="fas fa-user"></i>
          <span>{{ book.owner }}</span>
        </p>
      </div>
    </div>

    <div class="book-synopsis">
      <p>{{book.synopsis}}</p>
    </div>

    <div class="book-footer">
      <div class="rating-section">
        <app-rating [rating]="book.rate || 0"></app-rating>
        <span class="rating-value" *ngIf="book.rate || 0 > 0">
          {{book.rate}}
        </span>
      </div>

      <div class="action-buttons" *ngIf="!manage">
        <button class="action-btn info" (click)="onShowDetails()" title="Show Details">
          <i class="fas fa-circle-info"></i>
        </button>
        <button class="action-btn borrow" (click)="onBorrow()" title="Borrow">
          <i class="fas fa-list-check"></i>
        </button>
        <button class="action-btn wishlist" (click)="onAddToWaitingList()" title="Add to Waiting List">
          <i class="fas fa-heart"></i>
        </button>
      </div>

      <div class="action-buttons" *ngIf="manage">
        <button class="action-btn edit" (click)="onEdit()" title="Edit">
          <i class="fas fa-edit"></i>
        </button>
        <button class="action-btn share" (click)="onShare()" title="Share">
          <i class="fas fa-share-nodes"></i>
        </button>
        <button class="action-btn archive" (click)="onArchive()" title="Archive">
          <i class="fas fa-archive"></i>
        </button>
      </div>
    </div>
  </div>
</div>